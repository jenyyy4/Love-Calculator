<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<!-- SEO basics -->
  	<meta name="description" content="Love Alchemy — Discover love compatibility using numerology, fun animations, and shareable results. Find out your soul chemistry today!">
  	<meta name="keywords" content="love calculator, numerology love, love compatibility, love test, soulmate calculator, romantic compatibility, Love Alchemy">
	<link rel="icon" href="hearts.png" type="image/x-icon" />
	<title>Love Alchemy — Advanced Love Calculator 💘</title>
	<link rel="stylesheet" href="style.css" />
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet" />
	<!-- Google Translate -->
	<script type="text/javascript">
		function googleTranslateElementInit() {
			new google.translate.TranslateElement(
				{
					pageLanguage: 'en',
					includedLanguages: 'es,fr,en,de,it,pt,ru,zh,ja,ko,ar,hi,tr,pl,nl,sv',
					layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
					autoDisplay: false,
				},
				'google_translate_element'
			)
		}
	</script>
	<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
	<main class="app">
		<div class="bg-ambience"></div>
		<header class="top">
			<div class="logo">
				<img src="/logo.svg" alt="" srcset="" width="200px" />
			</div>

			<!-- Mood indicator for entire page -->
			<div id="moodIndicator" class="mood-indicator hidden">
				<span id="moodIcon" class="mood-icon">✨</span>
				<span id="moodLabel" class="mood-label">Playful</span>
			</div>

		<button id="menu-toggle" class="menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Your navigation controls -->
            <div id="nav-controls" class="controls">
                <button id="historyBtn" class="ghost-btn" title="View history">📜 History</button>
                <button id="feedbackBtn" class="ghost-btn" title="Give Feedback">💬 Feedback</button>
                <button id="resetBtn" class="ghost-btn" title="Reset inputs">🔁 Reset</button>
                <div id="google_translate_element" class="translate-widget"></div>
                <button id="themeToggleBtn" class="ghost-btn" title="Theme">🌙 Theme</button>
            </div>
		</header>

		<section class="card">
			<!-- Alert Dialog -->
			<div id="customAlert" class="custom-alert-overlay">
				<div class="custom-alert-box">
					<h2 id="alertTitle">Notice</h2>
					<p id="alertMessage"></p>
					<button id="alertOkBtn">OK</button>
				</div>
			</div>

			<div class="left">
				<h1 class="title">✨ Love Calculator</h1>
				<p class="subtitle">
					A mix of numerology + a pinch of magic — same names give the same result.
				</p>

				<form id="loveForm" class="form" autocomplete="off" onsubmit="return false;">
					<div class="inputs">
						<label class="input-wrap">
							<input id="name1" type="text" placeholder="Romeo" aria-label="Your name" maxlength="40" />
							<span class="label">You</span>
						</label>

						<label class="input-wrap">
							<input id="name2" type="text" placeholder="Juliet" aria-label="Their name" maxlength="40" />
							<span class="label">Crush</span>
						</label>
					</div>

					<div class="options">
						<label><input type="checkbox" id="allowJitter" /> Allow small surprise (±5%)</label>
						<label><input type="checkbox" id="useMaster" checked /> Support master numbers
							(11,22,33)</label>
					</div>

					<div class="actions">
						<button id="calcBtn" class="primary">Calculate Love ❤️</button>
						<button id="shareBtn" class="ghost-btn" title="Share result">🔗 Share</button>
						<a href="./Games/index.html" class="primary NG">Love Spinner ❤️</a>
					</div>

					<div class="result-area" aria-live="polite">
					<div class="ring-wrap">
						<svg id="progressRing" class="progress-ring" width="160" height="160" viewBox="0 0 160 160">
							<defs>
								<linearGradient id="g1" x1="0" x2="1">
									<stop offset="0%" stop-color="#ff7a7a" />
									<stop offset="100%" stop-color="#ff2e63" />
								</linearGradient>
							</defs>
							<circle class="ring-bg" cx="80" cy="80" r="64" stroke-width="14" fill="transparent" />
							<circle class="ring" cx="80" cy="80" r="64" stroke-width="14" fill="transparent"
								stroke="url(#g1)" stroke-linecap="round" stroke-dasharray="0 999" />
							<g class="text-layer">
								<text id="percentText" class="percent-text" x="50%" y="50%" dominant-baseline="middle"
									text-anchor="middle">
									--%
								</text>
							</g>
						</svg>
					</div>

					<div class="score-meta">
						<div id="heading" class="heading">Waiting for names...</div>
						<div id="description" class="description">
							Try entering your names and press Calculate.
						</div>
					</div>
				</div>

					<!-- Social share buttons -->
					<div class="social-share">
						<p>Share your love result:</p>
						<a href="#" id="shareWhatsapp" target="_blank" title="Share on WhatsApp"><i class="fa-brands fa-whatsapp"></i> WhatsApp</a>
						<a href="#" id="shareTwitter" target="_blank" title="Share on Twitter"> <i class="fa-brands fa-x-twitter"></i>Twitter</a>
						<a href="#" id="shareFacebook" target="_blank" title="Share on Facebook"><i class="fa-brands fa-facebook"></i> Facebook</a>
						<a href="#" id="shareInstagram" title="Share on Instagram"><i class="fa-brands fa-square-instagram"></i> Instagram</a>
						<button id="copyLinkBtn" title="Copy link">🔗 Copy Link</button>
            <button id="generateLoveCard">♥️ Generate Love-Card</button>
					</div>
				</form>

				<!-- Mystical Love Oracle -->
				<div id="loveOracle" class="love-oracle hidden" style="margin-top: 4rem; margin-bottom: 4rem">
					<div class="oracle-container">
						<!-- Magical sparkles background -->
						<div class="oracle-sparkles">
							<div class="sparkle sparkle-1">✨</div>
							<div class="sparkle sparkle-2">⭐</div>
							<div class="sparkle sparkle-3">💫</div>
							<div class="sparkle sparkle-4">🌟</div>
							<div class="sparkle sparkle-5">✨</div>
						</div>

						<!-- Oracle scroll/parchment -->
						<div class="oracle-scroll">
							<div class="scroll-header">
								<div class="crystal-ball">🔮</div>
								<div class="oracle-title">Love Oracle Whispers...</div>
							</div>

							<div class="scroll-content">
								<div class="oracle-border-top"></div>
								<div class="oracle-message">
									<p id="oracleText" class="oracle-text">
										The stars align to reveal your romantic destiny...
									</p>
								</div>
								<div class="oracle-border-bottom"></div>
							</div>

							<!-- Decorative elements -->
							<div class="oracle-decoration oracle-decoration-left">🌹</div>
							<div class="oracle-decoration oracle-decoration-right">💝</div>
						</div>

						<!-- Floating hearts/petals for mood -->
						<div class="oracle-mood-effects">
							<div class="floating-element floating-heart">💗</div>
							<div class="floating-element floating-star">⭐</div>
							<div class="floating-element floating-flower">🌸</div>
						</div>
					</div>
				</div>

				<div class="extras">
					<button id="confettiToggle" class="ghost-btn">🎊 Confetti</button>
					<button id="soundToggle" class="ghost-btn">🔈 Sound</button>
				</div>
			</div>

			<div class="right">
				<div class="panel tips-panel">
					<h3>Tips</h3>
					<ul>
						<li>Same names → same result (unless jitter is allowed).</li>
						<li>Toggle confetti or sound for a surprise.</li>
						<li>You can share results via a short URL (copy to clipboard).</li>
					</ul>
				</div>

				<div class="panel how-it-works-panel">
					<h3>How it works</h3>
					<ol>
						<li>We convert letters using <strong>Pythagorean numerology</strong>.</li>
						<li>We reduce to single digits (optionally keep master numbers).</li>
						<li>Combine numbers + apply modifiers to produce a compatibility %.</li>
						<li>We animate hearts, confetti & ring for a delightful reveal ✨</li>
					</ol>
				</div>
			</div>
		</section>

		<canvas id="particleCanvas" class="particle-canvas" aria-hidden="true"></canvas>
		<audio id="chime" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAA..."></audio>
	</main>

	<!-- History Popup Modal -->
	<div class="history-popup-overlay hidden" id="historyPopupOverlay">
		<div class="history-popup" id="historyPanel">
			<div class="history-popup-header">
				<h3>History</h3>
				<button class="close-popup" id="closeHistoryPopup" title="Close">✕</button>
			</div>
			<div class="history-popup-content">
				<div id="historyList" class="history-list"></div>
				<div class="history-actions">
					<button id="exportHistoryBtn">Export History as PDF</button>
					<button id="clearHistory" class="outline">Clear history</button>
				</div>
			</div>
		</div>
	</div>

	<div class="share-preview-overlay hidden" id="sharePreviewOverlay" role="dialog" aria-modal="true"
		aria-labelledby="sharePreviewTitle">
		<div class="share-preview">
			<div class="share-header">
				<h3 id="sharePreviewTitle">Shareable Card</h3>
				<button class="close-popup" id="closeSharePreview" title="Close">✕</button>
			</div>
			<div class="share-body">
				<canvas id="shareCanvas" width="900" height="900" style="
							max-width: 100%;
							height: auto;
							border-radius: 12px;
							display: block;
							margin: 0 auto;
						"></canvas>
			</div>
			<div class="share-footer">
				<button id="downloadImageBtn" class="primary">Download Image</button>
				<button id="copyImageBtn" class="ghost-btn">Copy Image</button>
				<button id="nativeShareBtn" class="ghost-btn">Native Share</button>
			</div>
		</div>
	</div>

	<!-- Feedback Popup Modal -->
	<div class="feedback-popup-overlay hidden" id="feedbackPopupOverlay">
		<div class="feedback-popup" id="feedbackPanel">
			<div class="feedback-popup-header">
				<h3>💬 Send Feedback</h3>
				<button class="close-popup" id="closeFeedbackPopup" title="Close">✕</button>
			</div>
			<div class="feedback-popup-content">
				<form id="feedbackForm" class="feedback-form">
					<label for="feedbackName" class="feedback-label">
						Name
						<input type="text" id="feedbackName" placeholder="Your name" maxlength="50" required />
					</label>

					<label for="feedbackEmail" class="feedback-label">
						Email (Optional)
						<input type="email" id="feedbackEmail" placeholder="your@email.com" maxlength="100" />
					</label>

					<label for="feedbackRating" class="feedback-label">
						Rating
						<div class="rating-stars" id="ratingStars">
							<span class="star" data-rating="1">⭐</span>
							<span class="star" data-rating="2">⭐</span>
							<span class="star" data-rating="3">⭐</span>
							<span class="star" data-rating="4">⭐</span>
							<span class="star" data-rating="5">⭐</span>
						</div>
						<input type="hidden" id="feedbackRating" value="0" />
					</label>

					<label for="feedbackMessage" class="feedback-label">
						Your Feedback *
						<textarea id="feedbackMessage" placeholder="Tell us what you think..." rows="5" maxlength="500"
							required></textarea>
						<span class="char-count"><span id="charCount">0</span>/500</span>
					</label>

					<div class="feedback-actions">
						<button type="submit" class="primary">Submit Feedback ✨</button>
						<button type="button" id="cancelFeedback" class="outline">Cancel</button>
					</div>
				</form>

				<div id="feedbackSuccess" class="feedback-success hidden">
					<div class="success-icon">✅</div>
					<h4>Thank you for your feedback!</h4>
					<p>We appreciate you taking the time to share your thoughts.</p>
				</div>

				<div class="feedback-list-section">
					<h4>Recent Feedback</h4>
					<div id="feedbackList" class="feedback-list"></div>
					<!-- <button id="clearFeedback" class="outline">Clear All Feedback</button> -->
				</div>
			</div>
		</div>
	</div>

	<!-- ShareLink Popup Modal -->
	<div class="sharelink-popup-overlay hidden" id="shareLinkPopupOverlay">
		<div class="feedback-popup" id="shareLinkPanel">
			<div class="feedback-popup-header">
				<h3>🔗 Share Link</h3>
				<button class="close-popup" id="closeShareLinkPopup" title="Close">✕</button>
			</div>
			<div class="feedback-popup-content">
				<form id="shareLinkForm" class="feedback-form">
					<div>
						<p>Click on the copy link button to copy the link to your clipboard!</p>
						<p>You can share it with your friends to show your love compatibility result. 💖</p>
					</div>
					<label for="shareLinkInput" class="shareLink-label">
						Shareable Link
						<input type="text" id="shareLinkInput" readonly />
					</label>

					<div class="feedback-actions">
						<button type="button" id="copyShareLink" class="primary">Copy Link</button>
						<button type="button" id="closeShareLink" class="outline">Close</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<footer class="footer">
		<div class="footer-content">
			<p>Made with ❤️ • Numerology logic (Pythagorean) • No data leaves your browser</p>
		</div>
	</footer>

		<script src="script.js"></script>
	</body>
</html>
